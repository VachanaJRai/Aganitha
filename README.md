# PaperFetcher ðŸ”¬

PaperFetcher is a Python command-line tool to fetch research papers from PubMed based on a user-specified query. It specifically filters for papers that have at least one author affiliated with a pharmaceutical or biotechnology company and outputs the results as a CSV file or to the console.

## Features

-   **PubMed Integration**: Uses the official NCBI E-utilities API to search and fetch papers. Supports PubMed's full query syntax.
-   **Corporate Affiliation Filtering**: Intelligently identifies authors from non-academic institutions like pharma and biotech companies.
-   **CSV Output**: Generates a clean, readable CSV file with key information.
-   **Flexible CLI**: Easy-to-use command-line interface built with Typer.
-   **Robust and Typed**: Fully typed with Python's type hints and includes robust error handling.

## Installation

The project is managed with [Poetry](https://python-poetry.org/).

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/VachanaJRai/Aganitha.git
    cd paperfetcher
    ```

2.  **Install dependencies:**
    Ensure you have Poetry installed. Then, run the following command in the project root to create a virtual environment and install the required packages.
    ```bash
    poetry install
    ```

## Usage

The tool is run via the `get-papers-list` command, which is available inside the Poetry shell.

**Activate the Poetry shell:**
```bash
poetry shell
```

**Basic Usage:**
Provide a PubMed query string as an argument.

```bash
get-papers-list "cancer therapeutics"
```

**Save to a file:**
Use the `-f` or `--file` option to specify an output CSV file.

```bash
get-papers-list "immunotherapy[title] AND novartis" --file results.csv
```

**Enable Debug Mode:**
Use the `-d` or `--debug` flag to see verbose logging during execution, which is useful for troubleshooting.

```bash
get-papers-list "crispr gene editing" --debug
```

**Get Help:**
```bash
get-papers-list --help
```

## Code Organization

The project is structured as a Python module with a separate command-line interface entry point.

-   `pyproject.toml`: Defines project metadata, dependencies, and the `get-papers-list` script entry point for Poetry.
-   `paperfetcher/`: The main Python package.
    -   `__init__.py`: Marks the directory as a package.
    -   `models.py`: Contains the `PaperResult` dataclass, which provides a structured, typed representation of a filtered paper.
    -   `core.py`: The heart of the application. It contains all the logic for interacting with the PubMed API (searching, fetching, parsing XML) and filtering the results.
    -   `cli.py`: Implements the command-line interface using `Typer`. It handles argument parsing, logging setup, and orchestrates calls to the `core` module.
-   `tests/`: Contains unit tests for the project.
    -   `test_core.py`: Tests the parsing and filtering logic in `core.py` using sample offline data to ensure correctness without making live API calls.
    -   `sample_data.xml`: Sample XML data used by the unit tests.
-   `README.md`: This file.

## Publishing to TestPyPI (Bonus)

The `pyproject.toml` is configured for packaging and distribution. To publish this package to TestPyPI:

1.  **Configure Poetry repositories:**
    ```bash
    # You only need to do this once
    poetry config repositories.test-pypi [https://test.pypi.org/legacy/](https://test.pypi.org/legacy/)
    ```

2.  **Get an API token:**
    Create an account on [TestPyPI](https://test.pypi.org/) and generate an API token.

3.  **Configure authentication:**
    ```bash
    poetry config pypi-token.test-pypi pypi-your-token-here
    ```

4.  **Build and publish:**
    ```bash
    poetry publish --build --repository test-pypi
    ```

## Tools and Libraries Used

-   **AI Assistant**: This project structure, code, and documentation were generated by **Google's Gemini**.
-   **Dependency Management**: [Poetry](https://python-poetry.org/)
-   **Command-Line Interface**: [Typer](https://typer.tiangolo.com/)
-   **HTTP Requests**: [HTTPX](https://www.python-httpx.org/)
-   **Rich Output**: [Rich](https://rich.readthedocs.io/en/latest/) for logging and console output.
-   **Data Source**: [NCBI E-utilities API (PubMed)](https://www.ncbi.nlm.nih.gov/books/NBK25501/)
